(function(e){function t(t){for(var r,o,u=t[0],i=t[1],c=t[2],p=0,d=[];p<u.length;p++)o=u[p],a[o]&&d.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==a[i]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02a1":function(e,t,n){},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"39ba":function(e,t,n){"use strict";var r=n("97c0"),a=n.n(r);a.a},"3e3e":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("a026"),a=n("8c4f"),s=(n("eb46"),n("02a1"),n("8de5"),n("b2a2"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-view",{staticClass:"view"})}),o=[],u={name:"app",components:{}},i=u,c=(n("034f"),n("2877")),l=Object(c["a"])(i,s,o,!1,null,null,null),p=l.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"run-list"},[n("div",{staticClass:"run-list-header"},[e.error?n("div",{staticClass:"notification is-danger"},[n("p",[e._v("There was an error while retrieving runs:")]),n("p",[n("i",[n("span",{attrs:{"test-label":"requestError"}},[e._v(e._s(e.error))])])])]):e._e(),n("button",{staticClass:"button is-primary",attrs:{"test-label":"createNewRunButton"},on:{click:e.createRun}},[n("i",{staticClass:"fas fa-plus"}),e._v("Create Run\n      ")])]),e._l(e.runs,function(t){return n("div",{key:t.id,staticClass:"run",attrs:{"test-label":"run"}},[n("h2",[n("span",{attrs:{"test-label":"runName"}},[e._v(e._s(t.name))])]),n("p",[e._v("Game: "),n("span",{attrs:{"test-label":"runGame"}},[e._v(e._s(e.translateGame(t.game)))])])])}),e.createRunActive?n("CreateRunModal",{attrs:{onClose:e.onCreateRunModalClose,onComplete:e.onCreateRunModalComplete}}):e._e()],2)])},f=[],m=(n("96cf"),n("3b8d")),v=n("795b"),h=n.n(v),g=(n("28a5"),n("3b2b"),n("4917"),n("7618")),b=(n("ac6a"),n("5d73")),w=n.n(b);function y(){this.routes=[]}y.prototype.request=function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,n,r){var a,s,o,u,i,c,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=!0,s=!1,o=void 0,e.prev=3,u=regeneratorRuntime.mark(function e(){var a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=c.value,s=t.match(a.regex),!s){e.next=7;break}return e.next=5,a.handlers[n](Array.prototype.slice.call(s,1).reduce(function(e,t,n){return e[a.params[n]]=t,e},{}),r);case 5:return e.t0=e.sent,e.abrupt("return",{v:e.t0});case 7:case"end":return e.stop()}},e)}),i=w()(this.routes);case 6:if(a=(c=i.next()).done){e.next=14;break}return e.delegateYield(u(),"t0",8);case 8:if(l=e.t0,"object"!==Object(g["a"])(l)){e.next=11;break}return e.abrupt("return",l.v);case 11:a=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e["catch"](3),s=!0,o=e.t1;case 20:e.prev=20,e.prev=21,a||null==i.return||i.return();case 23:if(e.prev=23,!s){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:throw new Error("Path ".concat(t," did not match any routes."));case 29:case"end":return e.stop()}},e,this,[[3,16,20,28],[21,,23,27]])}));return function(t,n,r){return e.apply(this,arguments)}}(),y.prototype.route=function(e,t){this.routes.push({regex:new RegExp("^/".concat(e.split("/").filter(function(e){return e}).map(function(e){return":"===e[0]?"([\\w%]+)":e}).join("/"),"/?$")),params:e.split("/").filter(function(e){return":"===e[0]}).map(function(e){return e.substr(1)}),handlers:{get:t.get,put:t.put,post:t.post,delete:t.delete}})};n("55dd");var _=n("5176"),C=n.n(_),x=n("f499"),R=n.n(x),k=(n("7514"),function(e){return void 0!==e&&null!==e});function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var r,a=e.slice(-1)[0].value,s=E(e);r=k(a)?s.slice(0,-1).join("/"):s.join("/");var o=I(r),u=k(a)?a:o.nextId;if(o.childKeys.find(function(e){return e===u}))throw new Error("Item already exists");if(localStorage.setItem("".concat(r,"/").concat(u),R()(C()(t,{id:u}))),o.childKeys.push(u),o.childKeys.sort(),o.nextId=u>=o.nextId?u+1:o.nextId,localStorage.setItem(r,R()(o)),n.returnCreated)return{path:"/".concat(r,"/").concat(u),item:t}}catch(i){throw i.code=500,i}}function O(e){var t;try{var n,r=E(e);r.length!==2*e.length?(n=r.join("/"),t=S(n).children):(n=r.join("/"),t=JSON.parse(localStorage.getItem(n)))}catch(s){throw s.code=500,s}if(!t){var a=new Error("Item not found");throw a.code=404,a}return t}function I(e){var t=JSON.parse(localStorage.getItem(e));return t?{nextId:t.nextId,childKeys:t.childKeys}:{nextId:0,childKeys:[]}}function S(e){var t=JSON.parse(localStorage.getItem(e));if(!t)return{nextId:0,childKeys:[],children:[]};var n=[],r=!0,a=!1,s=void 0;try{for(var o,u=w()(t.childKeys);!(r=(o=u.next()).done);r=!0){var i=o.value;n.push(JSON.parse(localStorage.getItem("".concat(e,"/").concat(i))))}}catch(c){a=!0,s=c}finally{try{r||null==u.return||u.return()}finally{if(a)throw s}}return{nextId:t.nextId,childKeys:t.childKeys,children:n}}function E(e){return e.reduce(function(e,t){return e.push(encodeURIComponent(t.key)),void 0!==t.value&&null!==t.value&&e.push("".concat(t.value)),e},[])}function $(e){return new h.a(function(t,n){setTimeout(function(){return t(e)},0)})}var N=new y;function P(e,t,n){return M.apply(this,arguments)}function M(){return M=Object(m["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.request(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),M.apply(this,arguments)}N.route("/runs",{get:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",$(O([{key:"runs"}])));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),post:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=j([{key:"runs"}],n,{returnCreated:!0}),j([{key:"runs",value:r.item.id},{key:"events"}],{type:"run-start"}),e.abrupt("return",$(r.item));case 3:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}),N.route("/runs/:runId",{get:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",$(O([{key:"runs",value:t.runId}])));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),put:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}),N.route("/runs/:runId/events",{get:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",$(O([{key:"runs",value:t.runId},{key:"events"}])));case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal is-active"},[n("div",{staticClass:"modal-background"}),n("div",{staticClass:"modal-card"},[e._m(0),n("section",{staticClass:"modal-card-body"},[n("form",[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Name")]),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],ref:"runName",staticClass:"input",attrs:{type:"text",placeholder:"Pick a name for your run!","test-label":"formName"},domProps:{value:e.form.name},on:{input:[function(t){t.target.composing||e.$set(e.form,"name",t.target.value)},e.onNameChange]}})])]),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[e._v("Game")]),n("div",{staticClass:"control"},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.game,expression:"form.game"}],attrs:{"test-label":"formGame"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.form,"game",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"red"}},[e._v("Pokémon Red")]),n("option",{attrs:{value:"blue"}},[e._v("Pokémon Blue")])])])])]),n("div",{staticClass:"field"},[n("label",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.openRun,expression:"form.openRun"}],attrs:{type:"checkbox","test-label":"openRun"},domProps:{checked:Array.isArray(e.form.openRun)?e._i(e.form.openRun,null)>-1:e.form.openRun},on:{change:function(t){var n=e.form.openRun,r=t.target,a=!!r.checked;if(Array.isArray(n)){var s=null,o=e._i(n,s);r.checked?o<0&&e.$set(e.form,"openRun",n.concat([s])):o>-1&&e.$set(e.form,"openRun",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.form,"openRun",a)}}}),e._v("\n            Open run after create ?\n          ")])]),e.hasWarning?n("div",{staticClass:"notification is-warning",attrs:{"test-label":"warning"}},[n("p",[e._v("Please fill out the following fields, they're required!")]),n("ul",e._l(e.warningFields,function(t){return n("li",{key:t,attrs:{"test-label":"warningField"}},[e._v("- "+e._s(t))])}),0)]):e._e(),e.hasError?n("div",{staticClass:"notification is-danger",attrs:{"test-label":"error"}},[n("p",[e._v("There was an error while creating your run:")]),n("p",[n("i",[e._v("\n              "+e._s(e.errorMessage)+"\n            ")])])]):e._e()])]),n("footer",{staticClass:"modal-card-foot"},[n("button",{staticClass:"button is-success",attrs:{"test-label":"buttonSubmit"},on:{click:e.onSubmit}},[e._v("\n        Save changes\n      ")]),n("button",{staticClass:"button",attrs:{"test-label":"buttonClose"},on:{click:e.onClose}},[e._v("\n        Cancel\n      ")])])])])},A=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[e._v("Start New Run")])])}],K=(n("7f7f"),{name:"CreateRunModal",props:{onClose:Function,onComplete:Function},data:function(){return{form:{name:(new Date).toLocaleString(),game:"red",openRun:!0},hasWarning:!1,warningFields:[],hasError:!1,errorMessage:""}},mounted:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.runName.select();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{onNameChange:function(){this.form.name&&(this.hasWarning=!1)},onSubmit:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.form.name){e.next=5;break}this.hasWarning=!0,this.warningFields=["Name"],e.next=18;break;case 5:return this.hasWarning=!1,this.warningFields=[],e.prev=7,e.next=10,P("/runs","post",{name:this.form.name,game:this.form.game});case 10:t=e.sent,this.form.openRun?this.$router.push("/runs/".concat(t.id)):this.onComplete(),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](7),this.hasError=!0,this.errorMessage=e.t0.message;case 18:case"end":return e.stop()}},e,this,[[7,14]])}));function t(){return e.apply(this,arguments)}return t}()}}),T=K,G=Object(c["a"])(T,F,A,!1,null,"fa3ec5a2",null),J=G.exports;function W(e){switch(e){case"red":return"Pokemon Red";case"blue":return"Pokemon Blue"}return""}function q(e){switch(e){case"red":case"blue":return"A world of dreams and adventures with Pokemon awaits! Let's go!"}}var B={name:"RunList",components:{CreateRunModal:J},props:{},data:function(){return{runs:[],createRunActive:!1,error:null}},mounted:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("/runs","get");case 3:this.runs=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.error=e.t0.message;case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{translateGame:W,createRun:function(){this.createRunActive=!0},onCreateRunModalComplete:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.createRunActive=!1,e.next=3,P("/runs","get");case 3:this.runs=e.sent;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onCreateRunModalClose:function(){this.createRunActive=!1}}},L=B,D=(n("7d37"),Object(c["a"])(L,d,f,!1,null,"45d96d1a",null)),U=D.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"run-viewer bg-pokemon-red-dark"},[e.error||e.notFound?e._e():n("div",{staticClass:"runMeta bg-pokemon-red"},[n("div",{staticClass:"meta-name"},[n("span",{attrs:{"test-label":"runName"}},[e._v(e._s(e.run.name))])]),n("div",{staticClass:"meta-game",attrs:{"test-label":"runGame"}}),n("div",{staticClass:"meta-status",attrs:{"test-label":"runStatus"}})]),n("div",{staticClass:"container scrollable"},[e.notFound?n("div",{staticClass:"notFound",attrs:{"test-label":"notFound"}},[n("p",[e._v("\n        The run with id "+e._s(e.$route.params.runId)+" was not found.\n      ")])]):e._e(),e.error?n("div",{staticClass:"error",attrs:{"test-label":"error"}},[n("p",[e._v("\n        There was an error retrieving the run with id "+e._s(e.$route.params.runId)+"\n      ")]),n("p",[e._v(e._s(e.error))])]):e._e(),n("div",{staticClass:"events"},e._l(e.runEvents,function(t){return n(t.component,{key:t.id,tag:"component",staticClass:"event",attrs:{run:e.run,event:t}})}),1)])])},Y=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-container"},[n("p",[e._v(e._s(e.introText))]),n("div",{staticClass:"image cycle"}),e._m(0)])},H=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"prompt"},[n("button",{staticClass:"button is-light is-outlined"},[e._v("Select your starter!")])])}],Q={name:"EventRunStart",components:{},props:{run:Object,event:Object},data:function(){return{introText:q(this.run.game)}},methods:{}},X=Q,Z=(n("f3ff"),Object(c["a"])(X,z,H,!1,null,"7717d01e",null)),ee=Z.exports,te={"run-start":ee},ne={name:"RunViewer",components:{EventRunStart:ee},props:{},data:function(){return{run:{name:null,game:null,data:{status:null}},runEvents:[],loaded:!1,notFound:null,error:null}},mounted:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P("/runs/".concat(this.$route.params.runId),"get");case 3:return this.run=e.sent,e.next=6,P("/runs/".concat(this.run.id,"/events"),"get");case 6:e.t0=function(e){return e.component=te[e.type],e},this.runEvents=e.sent.map(e.t0),this.loaded=!0,e.next=15;break;case 11:e.prev=11,e.t1=e["catch"](0),this.loaded=!0,404===e.t1.code?(this.error=null,this.notFound=!0):(this.notFound=null,this.error=e.t1.message);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{}},re=ne,ae=(n("39ba"),Object(c["a"])(re,V,Y,!1,null,"84fb9670",null)),se=ae.exports,oe=[{path:"/",component:p,children:[{path:"",component:U},{path:"runs/:runId",component:se}]}],ue=oe;r["a"].config.productionTip=!1,r["a"].use(a["a"]);var ie=new a["a"]({routes:ue,mode:"history"});new r["a"]({router:ie}).$mount("#app")},"64a9":function(e,t,n){},"6b3d":function(e,t,n){},"7d37":function(e,t,n){"use strict";var r=n("6b3d"),a=n.n(r);a.a},"8de5":function(e,t,n){},"97c0":function(e,t,n){},f3ff:function(e,t,n){"use strict";var r=n("3e3e"),a=n.n(r);a.a}});
//# sourceMappingURL=app.3223d70f.js.map